!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ToolCabinet=e():t.ToolCabinet=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";var r=[];window.location;t.exports={parse:function(t){var e=document.createElement("a");e.href=t;for(var n,r={port:e.port,protocol:e.protocol.replace(":",""),hash:e.hash.replace("#",""),host:e.host,href:e.href,hostname:e.hostname,pathname:e.pathname,search:e.search,query:{}},i=r.search.replace(/^\?/,"").split("&"),o=i.length,a=0;a<o;a++)i[a]&&(n=i[a].split("="),r.query[n[0]]=n[1]);return e=null,r},format:function(t,e){var n=0,i=e.query,o=e.hash;if(r.length=0,r.push(t.lastIndexOf("?")>-1?t:t+"?"),i)for(var a in i){var s=i[a];n?r.push("&"+a+"="+s):(n++,r.push(a+"="+s))}return o&&r.push(o.indexOf("#")>-1?o:"#"+o),r.join("")},resolve:function(t,e){return/^(.\/)/.test(e)&&(e=e.replace(/^(.\/)/,"/")),/^(..\/)/.test(e)&&(t=t.substr(0,t.lastIndexOf("/")),e=e.replace(/^(..\/)/,"/")),t+e},extname:function(t){var e=t.split(".");return e[e.length-1]||""},parseSearch:function(t){for(var e,n,r={},i=t.replace(/^\?/,"").split("&"),o=i.length,a=0;a<o;a++)i[a]&&(n=i[a].split("="),e=n[1],(/^\[/.test(e)&&/\]$/.test(e)||/^{/.test(e)||/\}$/.test(e))&&(e=JSON.parse(e)),r[n[0]]=e);return r}}},function(t,e,n){"use strict";var r=(n(0),n(2)),i=function(t){t=t||{},this.$el="string"==typeof t.el?$(t.el):t.el,this.uid=r("AjaxForm-"),this.loadState=!1,this._init()};i.prototype._init=function(){var t=$.Deferred();$.extend(this,t.promise()),this._createIframe(),this._addEvent(t)},i.prototype._createIframe=function(){var t='<iframe id="'+this.uid+'" name="'+this.uid+'"  style="display: none;" src="about:blank"></iframe>';this.$el.attr("target",this.uid),this.$el.append(t),this._iframe=$("#"+this.uid)},i.prototype._addEvent=function(t){var e=this;this._iframe.on("load",function(){if(e.loadState){var n=this.contentWindow;if("about:blank"===n.location.href)t.reject(n);else try{var r=this._iframe[0].contentWindow.document.body;innerText=r.innerText,innerText||(innerText=r.innerHTML),innerText&&t.resolve($.parseJSON(innerText))}catch(e){t.resolve(n)}e.loadState=!1}})},i.prototype.encrypto=function(t){var e=this;$.each(t,function(t,n){var r=e.$el.find("[name="+t+"]");0===r.length?$("<input />").attr({type:"hidden",name:t,value:n}).appendTo(e.$el):r.val(n)})};var o=null;i.sharedInstanceAjaxForm=function(t,e){return o||(e=e||{},e.el=t,o=new i(e)),o},i.classInstanceAjaxForm=function(t,e){return e=e||{},e.el=t,new i(e)},t.exports=i},function(t,e){function n(t){var e=++r+"";return t?t+e:e}t.exports=n;var r=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(5),o=n.n(i),a=n(6),s=n.n(a),c=n(0),l=(n.n(c),n(1)),u=n.n(l),p=n(7),f=n.n(p);e.default={version:r.a,JsBridge:o.a,cookie:s.a,AjaxForm:u.a,UploadFile:f.a}},function(t,e,n){"use strict";e.a="0.0.1"},function(t,e,n){"use strict";function r(t,e){var t=t||{};this.schemeProtocol=t.protocol||"jsbridge",this.params=t.params,this.action=t.action,this.cbName="jsBridgeFn"+i++,this.cb=e,this.init()}var i=1314;r.prototype={constructor:r,init:function(){this.initUrl(),this.initJsBridgeFn(),this.initIframe(),this.loadIframe()},initUrl:function(){this.url=this.schemeProtocol+"://"+this.action+"?";for(var t in this.params)this.url+=t+"="+this.params[t]+"&";this.url+="callBackFunction="+this.cbName},initIframe:function(){this.iframe=document.createElement("iframe"),this.iframe.style.width="1px",this.iframe.style.height="1px",this.iframe.style.display="none",this.iframe.src=this.url},initJsBridgeFn:function(){var t=this;window[this.cbName]=function(e){t.cb(e)}},loadIframe:function(){var t=this;document.body.appendChild(this.iframe),setTimeout(function(){t.iframe.remove()},100)}},t.exports=r},function(t,e,n){"use strict";function r(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function i(t){function e(n,i,o){var a;if(arguments.length>1){if(o=r({path:"/"},e.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(t){}return i=t.write?t.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}n||(a={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<c.length;u++){var p=c[u].split("="),f=p[0].replace(l,decodeURIComponent),h=p.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{if(h=t.read?t.read(h,f):t(h,f)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(n===f){a=h;break}n||(a[f]=h)}catch(t){}}return a}return e.get=e.set=e,e.getJSON=function(){return e.apply({json:!0},[].slice.call(arguments))},e.defaults={},e.remove=function(t,n){e(t,"",r(n,{expires:-1}))},e.withConverter=i,e}t.exports=i(function(){})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=function(t){if(this.$el="string"==typeof t.el?$(t.el):t.el,this.uid=o("UploadFile-"),this.options=t,this._data=t.data||{},this._filename=t.filename||"image",this._url=t.url,!this._url)return void console.warn("配置上传URL");this._init()};a.prototype._init=function(){this._createElement()},a.prototype._createElement=function(){var t="";for(var e in this._data){var n=this._data[e],r=Object.prototype.toString.call(n);"[object Object]"!==r&&"[object Array]"!==r||(n=JSON.stringify(n)),t+='<input type="hidden" name="'+e+"\" value='"+n+"'/>"}t+='<input type="file" class="opacity0 upload-file '+this.options.className+'" name="'+this._filename+'"  />',this.$el.attr("method","POST"),this.$el.attr("action",this._url),this.$el.attr("enctype","multipart/form-data"),this.$el.append(t)},a.prototype.parseErrorMsg=function(t){if(t&&"SUCCESS"==t.state)return!0;switch(1*t.errCode||0){case 29:return"上传的文件太大了,请重新上传";case 31:return"请上传JPGE,JPG,PNG,GIF等格式的图片文件"}return"文件上传失败,请重新上传"},a.prototype.submit=function(){this.ajaxForm.loadState=!0,"function"==typeof this._before&&this._before();var t=$.Deferred();return this.ajaxForm=i.classInstanceAjaxForm(this.$el,{type:"img"}),this.ajaxForm.done(function(e){var n=e.location,i=decodeURIComponent(n.search),o=r.parseSearch(i);t.resolve(o)}),this.ajaxForm.fail(function(){t.reject(this)}),this.$el.submit(),t.promise()};var s=null;a.sharedInstanceUploadFile=function(t){return s||(s=new a(t)),s},a.classInstanceUploadFile=function(t){return new a(t)},t.exports=a}])});