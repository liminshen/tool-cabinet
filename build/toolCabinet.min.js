!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ToolCabinet=t():e.ToolCabinet=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";var i=[];window.location;e.exports={parse:function(e){var t=document.createElement("a");t.href=e;for(var n,i={port:t.port,protocol:t.protocol.replace(":",""),hash:t.hash.replace("#",""),host:t.host,href:t.href,hostname:t.hostname,pathname:t.pathname,search:t.search,query:{}},r=i.search.replace(/^\?/,"").split("&"),a=r.length,o=0;o<a;o++)r[o]&&(n=r[o].split("="),i.query[n[0]]=n[1]);return t=null,i},format:function(e,t){var n=0,r=t.query,a=t.hash;if(i.length=0,i.push(e.lastIndexOf("?")>-1?e:e+"?"),r)for(var o in r){var s=r[o];n?i.push("&"+o+"="+s):(n++,i.push(o+"="+s))}return a&&i.push(a.indexOf("#")>-1?a:"#"+a),i.join("")},resolve:function(e,t){return/^(.\/)/.test(t)&&(t=t.replace(/^(.\/)/,"/")),/^(..\/)/.test(t)&&(e=e.substr(0,e.lastIndexOf("/")),t=t.replace(/^(..\/)/,"/")),e+t},extname:function(e){var t=e.split(".");return t[t.length-1]||""},parseSearch:function(e){for(var t,n,i={},r=e.replace(/^\?/,"").split("&"),a=r.length,o=0;o<a;o++)r[o]&&(n=r[o].split("="),t=n[1],(/^\[/.test(t)&&/\]$/.test(t)||/^{/.test(t)||/\}$/.test(t))&&(t=JSON.parse(t)),i[n[0]]=t);return i}}},function(e,t,n){"use strict";var i=(n(0),n(2)),r=function(e){e=e||{},this.$el="string"==typeof e.el?$(e.el):e.el,this.uid=i("AjaxForm-"),this.loadState=!1,this._init()};r.prototype._init=function(){var e=$.Deferred();$.extend(this,e.promise()),this._createIframe(),this._addEvent(e)},r.prototype._createIframe=function(){var e='<iframe id="'+this.uid+'" name="'+this.uid+'"  style="display: none;" src="about:blank"></iframe>';this.$el.attr("target",this.uid),this.$el.append(e),this._iframe=$("#"+this.uid)},r.prototype._addEvent=function(e){var t=this;this._iframe.on("load",function(){if(t.loadState){var n=this.contentWindow;if("about:blank"===n.location.href)e.reject(n);else try{var i=this._iframe[0].contentWindow.document.body;innerText=i.innerText,innerText||(innerText=i.innerHTML),innerText&&e.resolve($.parseJSON(innerText))}catch(t){e.resolve(n)}t.loadState=!1}})},r.prototype.encrypto=function(e){var t=this;$.each(e,function(e,n){var i=t.$el.find("[name="+e+"]");0===i.length?$("<input />").attr({type:"hidden",name:e,value:n}).appendTo(t.$el):i.val(n)})};var a=null;r.sharedInstanceAjaxForm=function(e,t){return a||(t=t||{},t.el=e,a=new r(t)),a},r.classInstanceAjaxForm=function(e,t){return t=t||{},t.el=e,new r(t)},e.exports=r},function(e,t){function n(e){var t=++i+"";return e?e+t:t}e.exports=n;var i=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n(5),a=n.n(r),o=n(6),s=n.n(o),c=n(0),l=(n.n(c),n(1)),u=n.n(l),p=n(7),f=n.n(p),h=n(8),d=n.n(h),m=n(9),v=n.n(m);t.default={version:i.a,JsBridge:a.a,cookie:s.a,AjaxForm:u.a,UploadFile:f.a,rem:d.a,equiValid:v.a}},function(e,t,n){"use strict";t.a="0.0.2"},function(e,t,n){"use strict";function i(e,t){var e=e||{};this.schemeProtocol=e.protocol||"jsbridge",this.params=e.params,this.action=e.action,this.cbName="jsBridgeFn"+r++,this.cb=t,this.init()}var r=1314;i.prototype={constructor:i,init:function(){this.initUrl(),this.initJsBridgeFn(),this.initIframe(),this.loadIframe()},initUrl:function(){this.url=this.schemeProtocol+"://"+this.action+"?";for(var e in this.params)this.url+=e+"="+this.params[e]+"&";this.url+="callBackFunction="+this.cbName},initIframe:function(){this.iframe=document.createElement("iframe"),this.iframe.style.width="1px",this.iframe.style.height="1px",this.iframe.style.display="none",this.iframe.src=this.url},initJsBridgeFn:function(){var e=this;window[this.cbName]=function(t){e.cb(t)}},loadIframe:function(){var e=this;document.body.appendChild(this.iframe),setTimeout(function(){e.iframe.remove()},100)}},e.exports=i},function(e,t,n){"use strict";function i(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function r(e){function t(n,r,a){var o;if(arguments.length>1){if(a=i({path:"/"},t.defaults,a),"number"==typeof a.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(e){}return r=e.write?e.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",r,a.expires&&"; expires="+a.expires.toUTCString(),a.path&&"; path="+a.path,a.domain&&"; domain="+a.domain,a.secure?"; secure":""].join("")}n||(o={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<c.length;u++){var p=c[u].split("="),f=p[0].replace(l,decodeURIComponent),h=p.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{if(h=e.read?e.read(h,f):e(h,f)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(n===f){o=h;break}n||(o[f]=h)}catch(e){}}return o}return t.get=t.set=t,t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(e,n){t(e,"",i(n,{expires:-1}))},t.withConverter=r,t}e.exports=r(function(){})},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(2),o=function(e){if(this.$el="string"==typeof e.el?$(e.el):e.el,this.uid=a("UploadFile-"),this.options=e,this._data=e.data||{},this._filename=e.filename||"image",this._url=e.url,!this._url)return void console.warn("配置上传URL");this._init()};o.prototype._init=function(){this._createElement()},o.prototype._createElement=function(){var e="";for(var t in this._data){var n=this._data[t],i=Object.prototype.toString.call(n);"[object Object]"!==i&&"[object Array]"!==i||(n=JSON.stringify(n)),e+='<input type="hidden" name="'+t+"\" value='"+n+"'/>"}e+='<input type="file" class="opacity0 upload-file '+this.options.className+'" name="'+this._filename+'"  />',this.$el.attr("method","POST"),this.$el.attr("action",this._url),this.$el.attr("enctype","multipart/form-data"),this.$el.append(e)},o.prototype.parseErrorMsg=function(e){if(e&&"SUCCESS"==e.state)return!0;switch(1*e.errCode||0){case 29:return"上传的文件太大了,请重新上传";case 31:return"请上传JPGE,JPG,PNG,GIF等格式的图片文件"}return"文件上传失败,请重新上传"},o.prototype.submit=function(){this.ajaxForm.loadState=!0,"function"==typeof this._before&&this._before();var e=$.Deferred();return this.ajaxForm=r.classInstanceAjaxForm(this.$el,{type:"img"}),this.ajaxForm.done(function(t){var n=t.location,r=decodeURIComponent(n.search),a=i.parseSearch(r);e.resolve(a)}),this.ajaxForm.fail(function(){e.reject(this)}),this.$el.submit(),e.promise()};var s=null;o.sharedInstanceUploadFile=function(e){return s||(s=new o(e)),s},o.classInstanceUploadFile=function(e){return new o(e)},e.exports=o},function(e,t){!function(e,t){function n(){var t=a.getBoundingClientRect().width;t/c>640&&(t=640*c);var n=t/10;a.style.fontSize=n+"px",u.rem=e.rem=n}var i,r=e.document,a=r.documentElement,o=r.querySelector('meta[name="viewport"]'),s=r.querySelector('meta[name="flexible"]'),c=0,l=0,u=t.flexible||(t.flexible={});if(o){var p=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);p&&(l=parseFloat(p[1]),c=parseInt(1/l))}else if(s){var f=s.getAttribute("content");if(f){var h=f.match(/initial\-dpr=([\d\.]+)/),d=f.match(/maximum\-dpr=([\d\.]+)/);h&&(c=parseFloat(h[1]),l=parseFloat((1/c).toFixed(2))),d&&(c=parseFloat(d[1]),l=parseFloat((1/c).toFixed(2)))}}if(!c&&!l){var m=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),v=e.devicePixelRatio;c=m?v>=3&&(!c||c>=3)?3:v>=2&&(!c||c>=2)?2:1:1,l=1/c}if(a.setAttribute("data-dpr",c),!o)if(o=r.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var x=r.createElement("div");x.appendChild(o),r.write(x.innerHTML)}e.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(n,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(i),i=setTimeout(n,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*c+"px":r.addEventListener("DOMContentLoaded",function(e){r.body.style.fontSize=12*c+"px"},!1),n(),u.dpr=e.dpr=c,u.refreshRem=n,u.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},u.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},function(e,t){e.exports={isWeiXin:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},isAmaze:function(){var e=window.navigator.userAgent,t=/(AmazeDev|Amaze)\/[\w.]+/gi;return e.match(t)instanceof Array}}}])});